<div class="row">
  <mat-toolbar class="header" >
    <mat-toolbar-row>
      <button mat-icon-button (click)="navMenu.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
            <span [routerLink]="'/home'" style="cursor: pointer;">
              <img src='./../../../assets/icons/product-logo.svg'
              [ngStyle]="{'marginLeft': mobileQuery.matches==true ?'2px' : '20px'}" style="height: 1.9em;">
            </span>
        <span class="flex-spacer"></span>

          <app-search class="search" *ngIf='!mobileQuery.matches'></app-search>

          <app-break-timer></app-break-timer>
          <button mat-icon-button [routerLink]="'/home'" >
            <mat-icon>home</mat-icon>
          </button>
          <span    matTooltip="Admin" matTooltipClass="example-tooltip-red">
            <button mat-icon-button [routerLink]="'/setup'"  >
              <mat-icon>admin_panel_settings</mat-icon>
            </button>
          </span>
         


        <button mat-icon-button matTooltip="notifications" matTooltipClass="example-tooltip-red"
        (click)="openChat()">
          <mat-icon>notifications</mat-icon>
        </button>
        <div class="profile-container" [matMenuTriggerFor]="profile" matTooltip="profie" matTooltipClass="example-tooltip-red">
          {{userName?.charAt(0)|uppercase}}
      </div>
    </mat-toolbar-row>
    <mat-toolbar-row *ngIf='mobileQuery.matches'>
      <app-search class="mbl-search"></app-search>
    </mat-toolbar-row>
    
    </mat-toolbar>
</div>

<mat-sidenav-container style="height: 86vh">
  <mat-sidenav mode="over" #navMenu style="width: 14em;">
<mat-nav-list>
  <a mat-list-item >
    <mat-icon class="menu-icon">dashboard</mat-icon>
  Dashboard</a>

  <a mat-list-item>
    <mat-icon class="menu-icon">vertical_split</mat-icon>
  All Tasks</a>

  <a mat-list-item>
    <mat-icon class="menu-icon">question_answer</mat-icon>Chat</a>
  <a mat-list-item>Meetings</a>
  <a mat-list-item>Documents</a>
  <a mat-list-item>Task Activities</a>
</mat-nav-list>
  </mat-sidenav>


  <mat-sidenav-content>
    <ng-container style="position: relative;">
      <div class="row nav-container">
        <div  style=" width: 6%; padding: 0;"  *ngIf="!mobileQuery.matches">
            <mat-nav-list  style=" width: 100%;">  
              
              <a [routerLink]="'/dashboard'"
              [routerLinkActive]="'active'">
              <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item" class="active">
                  <div class="centre">
                      <mat-icon>dashboard</mat-icon>
                  </div>
                  <div class="text centre">Dashboard</div>   
              </div>       
              </a>
    
                <a [routerLink]="'/task'" 
                [routerLinkActive]="'active'">
                <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item">
                    <div class="centre">
                        <mat-icon>vertical_split</mat-icon>
                    </div>
                    <div class="text centre">All Tasks</div>   
                </div>       
                </a>

                <a [routerLink]="'/document'"
                [routerLinkActive]="'active'">
                <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item">
                    <div class="centre">
                        <mat-icon>library_books</mat-icon>
                    </div>
                    <div class="text centre">Documents</div>   
                </div>       
                </a>


             <!--    <a [routerLink]="'task'"
                [routerLinkActive]="'active'">
                <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item">
                    <div class="centre">
                        <mat-icon>question_answer</mat-icon>
                    </div>
                    <div class="text centre">Chat</div>   
                </div>       
                </a>
                <a [routerLink]="'/task'"
                [routerLinkActive]="'active'">
                <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item">
                    <div class="centre">
                        <mat-icon>groups</mat-icon>
                    </div>
                    <div class="text centre">Meetings</div>   
                </div>       
                </a> -->
                <a [routerLink]="'projects'"
                [routerLinkActive]="'active'">
                <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item">
                    <div class="centre">
                        <mat-icon>article</mat-icon>
                    </div>
                    <div class="text centre"> All Project</div>   
                </div>       
                </a>
                <a [routerLink]="'emp-history'"
                [routerLinkActive]="'active'">
                <div fxLayout="column" fxLayoutAlign="space-around center" class="menu-item">
                    <div class="centre">
                        <mat-icon>
                          manage_history
                          </mat-icon>
                    </div>
                    <div class="text centre">History</div>   
                </div>       
                </a>
              </mat-nav-list>
        </div>
        <div class="content" [ngStyle]="{'width': mobileQuery.matches==true ?'100%' : '94%'}">
            <router-outlet></router-outlet>
        </div>
    </div>
    </ng-container>

  </mat-sidenav-content>
</mat-sidenav-container>



<!--Define menu-->
          <!--Profile Menu-->
          <mat-menu #profile="matMenu">
            <div class="row" style="padding: 12px; width: 20vw;">
              <div class="col-4">
                <div class="profile-view">
                  {{userName?.charAt(0)|uppercase}}
                </div>
              </div>
              <div class="col">
                <span  style="font-weight: bold; text-transform: capitalize;">
                  {{userName}}
                </span> <br>
                <span style="font-style: oblique;">
                 OT00{{id}}
                </span>
          
              </div>
            </div>
            <mat-divider></mat-divider>
          
           <div>
            <!-- <button mat-menu-item>
              <mat-icon>settings</mat-icon>
              Settings</button> -->
            <button mat-menu-item (click)='logOut()'>
              <mat-icon>logout</mat-icon>
              Logout</button>
           </div>
          </mat-menu>
